(this.webpackJsonplyricbook=this.webpackJsonplyricbook||[]).push([[0],{20:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(13),i=c.n(a),r=(c(20),c(8)),o=c(3),l=c(4),j=c(0);var u=function(){return Object(j.jsxs)("div",{className:"signup-login-page",children:[Object(j.jsx)("h1",{className:"logo-signup-login",children:"lyricbook"}),Object(j.jsxs)("div",{className:"signup-login-box",children:[Object(j.jsx)("h2",{className:"signup-login-text",children:"Login or Signup"}),Object(j.jsx)(l.b,{exact:!0,to:"/login",children:Object(j.jsx)("button",{className:"signin-home-buttons",children:"Login"})}),Object(j.jsx)(l.b,{exact:!0,to:"/signup",children:Object(j.jsx)("button",{className:"signin-home-buttons",children:"Signup"})})]})]})},b=c(2);var h=function(e){var t=e.handleLogin,c=Object(n.useState)(""),s=Object(o.a)(c,2),a=s[0],i=s[1],r=Object(n.useState)(""),l=Object(o.a)(r,2),u=l[0],h=l[1],d=Object(n.useState)(""),O=Object(o.a)(d,2),p=O[0],x=O[1],m=Object(b.f)();return Object(j.jsxs)("div",{children:[Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.target.reset(),function(e,c){fetch("".concat("https://lyricbook-backend.herokuapp.com/","/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:"".concat(e),password:"".concat(c)}})}).then((function(e){e.ok?e.json().then((function(e){t(e.user),localStorage.setItem("jwt",e.jwt),m.push("/home")})):(console.log("wrong username/password"),e.json().then((function(e){x(e.message)})))}))}(a,u)},children:["Username:",Object(j.jsx)("input",{className:"login-inputs",type:"text",id:"username",placeholder:" Username",value:a,onChange:function(e){return i(e.target.value)}}),"Password:",Object(j.jsx)("input",{className:"login-inputs",type:"password",id:"password",placeholder:" Password",value:u,onChange:function(e){return h(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"Login"})]}),Object(j.jsx)("h4",{className:"login-error",children:p})]})};var d=function(e){var t=e.handleLogin,c=Object(n.useState)(""),s=Object(o.a)(c,2),a=s[0],i=s[1],r=Object(n.useState)(""),l=Object(o.a)(r,2),u=l[0],h=l[1],d=Object(n.useState)(""),O=Object(o.a)(d,2),p=O[0],x=O[1],m=Object(n.useState)(""),f=Object(o.a)(m,2),g=f[0],y=f[1],v=Object(n.useState)(""),N=Object(o.a)(v,2),S=N[0],w=N[1],k=Object(b.f)();return Object(j.jsxs)("div",{children:[Object(j.jsxs)("form",{onSubmit:function(e){e.target.reset(),e.preventDefault(),function(e,c,n,s){fetch("".concat("https://lyricbook-backend.herokuapp.com/","/users"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:"".concat(e),password:"".concat(c),bio:"".concat(n),profile_img:"".concat(s)}})}).then((function(e){e.ok?e.json().then((function(e){t(e.user),localStorage.setItem("jwt",e.jwt),k.push("/home")})):(console.log("form incorrectly filled out"),e.json().then((function(e){w(e.error)})))}))}(a,u,p,g)},children:["Username:",Object(j.jsx)("input",{className:"login-inputs",type:"text",id:"username",placeholder:" Username",value:a,onChange:function(e){return i(e.target.value)}}),"Password:",Object(j.jsx)("input",{className:"login-inputs",type:"password",id:"password",placeholder:" Password",value:u,onChange:function(e){return h(e.target.value)}}),"Bio:",Object(j.jsx)("input",{className:"login-inputs",type:"text",id:"password",placeholder:" Tell us about yourself",value:p,onChange:function(e){return x(e.target.value)}}),"Profile Picture:",Object(j.jsx)("input",{className:"login-inputs",type:"text",id:"password",placeholder:" Insert profile picture",value:g,onChange:function(e){return y(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"Signup"})]}),Object(j.jsx)("h4",{className:"signup-error",children:S})]})};var O=function(e){var t=e.user,c=Object(b.f)();return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("h1",{className:"logo",onClick:function(){c.push("/home")},children:"lyricbook"}),Object(j.jsx)("div",{className:"prof-img-container",children:Object(j.jsx)("img",{src:t.profile_img,alt:"profile picture",className:"header-prof",onClick:function(){c.push("/profile")}})})]})};var p=function(e){var t=e.onLogout;return Object(j.jsxs)("div",{children:[Object(j.jsx)(l.c,{activeClassName:"active-nav-link",className:"nav-link",style:{textDecoration:"none"},exact:!0,to:"/home",children:"Home"}),Object(j.jsx)(l.c,{activeClassName:"active-nav-link",className:"nav-link",style:{textDecoration:"none"},exact:!0,to:"/dashboard",children:"Dashboard"}),Object(j.jsx)(l.c,{activeClassName:"active-nav-link",className:"nav-link",style:{textDecoration:"none"},exact:!0,to:"/profile",children:"Profile"}),Object(j.jsx)(l.c,{exact:!0,to:"/login",children:Object(j.jsx)("button",{className:"logout-button",onClick:t,children:"Logout"})})]})};var x=function(e){var t=e.user,c=Object(b.f)();return Object(j.jsxs)("div",{className:"home",children:[Object(j.jsx)(O,{user:t}),Object(j.jsx)(p,{}),Object(j.jsxs)("div",{className:"home-details",children:[Object(j.jsx)("h1",{className:"welcome-text",children:"welcome to lyricbook!"}),Object(j.jsx)("button",{className:"home-start-button",onClick:function(){c.push("/dashboard")},children:"Get Started"})]})]})};var m=function(e){var t=e.lyric,c=e.handleShowLyric,n=e.deleteLyric,s=Object(b.f)();return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"lyric-box",children:[Object(j.jsx)("h1",{className:"lyric-box-title",onClick:function(){return c(t.id)},children:t.title}),Object(j.jsx)("h2",{className:"lyric-box-artist",children:t.artist_name}),Object(j.jsxs)("div",{className:"lyric-buttons-container",children:[Object(j.jsx)("button",{onClick:function(){s.push("/lyric-editor")},className:"lyric-buttons",children:Object(j.jsx)("span",{className:"button-icons",children:Object(j.jsx)("ion-icon",{name:"create-outline"})})}),Object(j.jsx)("button",{onClick:n,className:"lyric-buttons",children:Object(j.jsx)("span",{className:"button-icons",children:Object(j.jsx)("ion-icon",{name:"trash-outline"})})})]})]})})};var f=function(e){var t=e.user,c=e.handleShowLyric,n=e.deleteLyric,s=Object(b.f)();return Object(j.jsxs)("div",{className:"lyrics-container",children:[t.lyrics?t.lyrics.map((function(e){return Object(j.jsx)(m,{lyric:e,user:t,handleShowLyric:c,deleteLyric:n},e.id)})):null,Object(j.jsx)("button",{className:"add-lyric-box",onClick:function(){s.push("/lyric-submission")},children:Object(j.jsx)("h1",{className:"add-lyric-box-title",children:"New Song"})})]})};var g=function(e){var t=e.lyricShow,c=e.handleShowAllLyrics;return Object(j.jsxs)("div",{className:"lyric-view",children:[Object(j.jsx)("button",{className:"back-button",onClick:c,children:"Back to Dashboard"}),Object(j.jsxs)("div",{className:"lyric-view-container",children:[Object(j.jsx)("h1",{className:"lyric-title",children:t.title}),Object(j.jsx)("h2",{className:"lyric-artist",children:t.artist_name}),Object(j.jsx)("p",{className:"lyric-content",children:t.content}),Object(j.jsxs)("h5",{className:"lyric-copyright",children:["\xa9 ",t.copyright_name]})]})]})};var y=function(e){var t=e.user,c=e.handleShowLyric,n=e.handleShowAllLyrics,s=e.deleteLyric,a=e.lyricClicked,i=e.lyricShow;return Object(j.jsx)("div",{className:"dashboard",children:a?Object(j.jsx)("div",{children:Object(j.jsx)(g,{lyricShow:i,handleShowAllLyrics:n})}):Object(j.jsxs)("div",{children:[Object(j.jsx)(O,{user:t}),Object(j.jsx)(p,{}),Object(j.jsx)(f,{user:t,handleShowLyric:c,deleteLyric:s})]})})};var v=function(e){var t=e.user;return Object(j.jsxs)("div",{children:[Object(j.jsx)(O,{user:t}),Object(j.jsx)(p,{}),Object(j.jsxs)("div",{className:"prof-items-container",children:[Object(j.jsx)("img",{src:t.profile_img,alt:"profile picture",className:"profile-img"}),Object(j.jsxs)("div",{className:"prof-details-container",children:[Object(j.jsx)("h2",{className:"profile-name",children:t.username}),Object(j.jsx)("p",{className:"profile-bio",children:t.bio})]})]})]})};var N=function(e){var t=e.addNewLyric,c=Object(b.f)(),s=Object(n.useState)(!1),a=Object(o.a)(s,2),i=a[0],r=a[1],l=Object(n.useState)(""),u=Object(o.a)(l,2),h=u[0],d=u[1],O=Object(n.useState)(""),p=Object(o.a)(O,2),x=p[0],m=p[1],f=Object(n.useState)(""),g=Object(o.a)(f,2),y=g[0],v=g[1],N=Object(n.useState)(""),S=Object(o.a)(N,2),w=S[0],k=S[1],L=Object(n.useState)(null),C=Object(o.a)(L,2),P=C[0];function _(){c.push("/dashboard"),window.location.reload()}return C[1],Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:_,children:"Back to Dashboard"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.target.reset(),t({title:h,artist_name:x,content:y,copyright_name:w,copyright_year:P}),r(!0)},children:[Object(j.jsx)("input",{className:"lyric-inputs",type:"text",placeholder:" Title",value:h,onChange:function(e){return d(e.target.value)}}),Object(j.jsx)("input",{className:"lyric-inputs",type:"text",placeholder:" Artist",value:x,onChange:function(e){return m(e.target.value)}}),Object(j.jsx)("input",{className:"lyric-inputs",type:"text",placeholder:" Lyrics",value:y,onChange:function(e){return v(e.target.value)}}),Object(j.jsx)("input",{className:"lyric-inputs",type:"text",placeholder:" Copyright Name",value:w,onChange:function(e){return k(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"Publish"})]}),i?Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Song Published!"}),Object(j.jsx)("button",{onClick:_,children:"View Songs"})]}):null]})};var S=function(){return Object(j.jsx)("div",{children:"Lyric Editor"})};var w=function(){var e="https://lyricbook-backend.herokuapp.com/",t=Object(n.useState)(!1),c=Object(o.a)(t,2),s=(c[0],c[1]),a=Object(n.useState)({}),i=Object(o.a)(a,2),O=i[0],p=i[1],m=Object(n.useState)({}),f=Object(o.a)(m,2),g=f[0],w=f[1],k=Object(n.useState)([]),L=Object(o.a)(k,2),C=L[0],P=L[1],_=Object(n.useState)(!1),A=Object(o.a)(_,2),D=A[0],T=A[1];function B(e){p(e),s(!0)}function I(){localStorage.clear(),p(null),s(!1)}return Object(b.f)(),Object(n.useEffect)((function(){var t=localStorage.getItem("jwt");fetch("".concat(e,"/profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){e.ok?e.json().then((function(e){s(!0),p(e.user)})):console.log("please log in")}))}),[]),Object(j.jsx)(l.a,{basename:"/lyricbook-frontend",children:Object(j.jsx)("div",{className:"app",children:Object(j.jsxs)(b.c,{children:[Object(j.jsx)(b.a,{exact:!0,path:"/",children:Object(j.jsx)(u,{})}),Object(j.jsx)(b.a,{exact:!0,path:"/login",children:Object(j.jsx)(h,{handleLogin:B})}),Object(j.jsx)(b.a,{exact:!0,path:"/signup",children:Object(j.jsx)(d,{handleLogin:B})}),Object(j.jsx)(b.a,{exact:!0,path:"/home",children:Object(j.jsx)(x,{onLogout:I,user:O})}),Object(j.jsx)(b.a,{exact:!0,path:"/dashboard",children:Object(j.jsx)(y,{user:O,onLogout:I,handleShowLyric:function(e){P(O.lyrics.find((function(t){return t.id===e}))),T(!0)},handleShowAllLyrics:function(){T(!1)},deleteLyric:function(){console.log("button clicked")},lyricClicked:D,lyricShow:C})}),Object(j.jsx)(b.a,{exact:!0,path:"/profile",children:Object(j.jsx)(v,{user:O,onLogout:I})}),Object(j.jsx)(b.a,{exact:!0,path:"/lyric-submission",children:Object(j.jsx)(N,{addNewLyric:function(t){var c=localStorage.getItem("jwt");fetch("".concat(e,"/lyrics"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(Object(r.a)(Object(r.a)({},t),{},{user_id:O.id}))}).then((function(e){return e.json()})).then((function(e){w(Object(r.a)({data:e},g))}))}})}),Object(j.jsx)(b.a,{exact:!0,path:"/lyric-editor",children:Object(j.jsx)(S,{})})]})})})};i.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.e61758af.chunk.js.map