(this.webpackJsonplyricbook=this.webpackJsonplyricbook||[]).push([[0],{23:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(15),i=c.n(s),o=(c(23),c(18)),r=c(14),l=c(2),j=c(4),u=c(0);var b=function(){return Object(u.jsxs)("div",{className:"signup-login-page",children:[Object(u.jsx)("h1",{className:"logo-signup-login",children:"lyricbook"}),Object(u.jsxs)("div",{className:"signup-login-box",children:[Object(u.jsx)("h2",{className:"signup-login-text",children:"Login or Signup"}),Object(u.jsx)(j.b,{exact:!0,to:"/login",children:Object(u.jsx)("button",{className:"signin-home-buttons",children:"Login"})}),Object(u.jsx)(j.b,{exact:!0,to:"/signup",children:Object(u.jsx)("button",{className:"signin-home-buttons",children:"Signup"})})]})]})},h=c(3);var d=function(e){var t=e.handleLogin,c=Object(n.useState)(""),a=Object(l.a)(c,2),s=a[0],i=a[1],o=Object(n.useState)(""),r=Object(l.a)(o,2),j=r[0],b=r[1],d=Object(n.useState)(""),O=Object(l.a)(d,2),p=O[0],m=O[1],x=Object(h.f)();return Object(u.jsxs)("div",{className:"login-page",children:[Object(u.jsxs)("form",{className:"login-form",onSubmit:function(e){e.preventDefault(),e.target.reset(),function(e,c){fetch("".concat("https://lyricbook-backend.herokuapp.com/","/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:"".concat(e),password:"".concat(c)}})}).then((function(e){e.ok?e.json().then((function(e){t(e.user),localStorage.setItem("jwt",e.jwt),x.push("/home")})):(console.log("wrong username/password"),e.json().then((function(e){m(e.message)})))}))}(s,j)},children:[Object(u.jsx)("h2",{className:"login-text",children:"Login"}),Object(u.jsx)("input",{className:"login-inputs",type:"text",id:"username",placeholder:" Username",value:s,onChange:function(e){return i(e.target.value)}}),Object(u.jsx)("input",{className:"login-inputs",type:"password",id:"password",placeholder:" Password",value:j,onChange:function(e){return b(e.target.value)}}),Object(u.jsx)("button",{className:"login-button",type:"submit",children:"Login"})]}),Object(u.jsx)("h4",{className:"login-error",children:p})]})};var O=function(e){var t=e.handleLogin,c=Object(n.useState)(""),a=Object(l.a)(c,2),s=a[0],i=a[1],o=Object(n.useState)(""),r=Object(l.a)(o,2),j=r[0],b=r[1],d=Object(n.useState)(""),O=Object(l.a)(d,2),p=O[0],m=O[1],x=Object(n.useState)(""),g=Object(l.a)(x,2),f=g[0],y=g[1],v=Object(n.useState)(""),N=Object(l.a)(v,2),S=N[0],w=N[1],k=Object(h.f)();return Object(u.jsx)("div",{className:"signup-page",children:Object(u.jsxs)("div",{className:"signup-form-container",children:[Object(u.jsxs)("form",{onSubmit:function(e){e.target.reset(),e.preventDefault(),function(e,c,n,a){fetch("".concat("https://lyricbook-backend.herokuapp.com/","/users"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:"".concat(e),password:"".concat(c),bio:"".concat(n),profile_img:"".concat(a)}})}).then((function(e){e.ok?e.json().then((function(e){t(e.user),localStorage.setItem("jwt",e.jwt),k.push("/home")})):(console.log("form incorrectly filled out"),e.json().then((function(e){w(e.error)})))}))}(s,j,p,f)},className:"signup-form",children:[Object(u.jsx)("h2",{className:"signup-text",children:"Signup"}),Object(u.jsx)("input",{className:"signup-inputs",type:"text",id:"username",placeholder:" Username",value:s,onChange:function(e){return i(e.target.value)}}),Object(u.jsx)("input",{className:"signup-inputs",type:"password",id:"password",placeholder:" Password",value:j,onChange:function(e){return b(e.target.value)}}),Object(u.jsx)("input",{className:"signup-input-bio",type:"text",id:"password",placeholder:" Tell us about yourself",value:p,onChange:function(e){return m(e.target.value)}}),Object(u.jsx)("input",{className:"signup-inputs",type:"text",id:"password",placeholder:" Insert profile picture",value:f,onChange:function(e){return y(e.target.value)}}),Object(u.jsx)("button",{type:"submit",className:"signup-button",children:"Signup"})]}),Object(u.jsx)("h4",{className:"signup-error",children:S})]})})};var p=function(e){var t=e.user,c=e.onLogout,n=Object(h.f)();return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"prof-img-container",children:Object(u.jsx)("img",{src:t.profile_img,alt:"profile picture",className:"header-prof",onClick:function(){n.push("/profile")}})}),Object(u.jsx)("h1",{className:"logo",onClick:function(){n.push("/home")},children:"lyricbook"}),Object(u.jsxs)("button",{onClick:c,className:"logout-button",children:[Object(u.jsx)("div",{className:"logout-text",children:"logout"}),Object(u.jsx)("div",{className:"logout-icon",children:Object(u.jsx)("ion-icon",{name:"log-out-outline"})})]})]})};var m=function(e){return e.onLogout,Object(u.jsxs)("div",{className:"nav-bar",children:[Object(u.jsx)(j.c,{activeClassName:"active-nav-link",className:"nav-link",exact:!0,to:"/home",children:"Home"}),Object(u.jsx)(j.c,{activeClassName:"active-nav-link",className:"nav-link",exact:!0,to:"/dashboard",children:"Journal"}),Object(u.jsx)(j.c,{activeClassName:"active-nav-link",className:"nav-link",exact:!0,to:"/profile",children:"Profile"})]})};var x=function(e){var t=e.user,c=e.onLogout,n=Object(h.f)();return Object(u.jsxs)("div",{className:"home",children:[Object(u.jsx)(p,{user:t,onLogout:c}),Object(u.jsx)(m,{}),Object(u.jsxs)("div",{className:"home-details",children:[Object(u.jsx)("h3",{className:"welcome-text",children:"welcome to lyricbook!"}),Object(u.jsx)("button",{className:"home-start-button",onClick:function(){n.push("/dashboard")},children:"Get Started!"})]})]})};var g=function(e){var t=e.lyric,c=e.handleShowLyric,n=e.deleteLyric,a=Object(h.f)();return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"lyric-box",children:[Object(u.jsx)("h1",{className:"lyric-box-title",onClick:function(){return c(t.id)},children:t.title}),Object(u.jsx)("h2",{className:"lyric-box-artist",children:t.artist_name}),Object(u.jsxs)("div",{className:"lyric-buttons-container",children:[Object(u.jsx)("button",{onClick:function(){a.push("/lyric-editor")},className:"lyric-buttons",children:Object(u.jsx)("span",{className:"button-icons",children:Object(u.jsx)("ion-icon",{name:"create-outline"})})}),Object(u.jsx)("button",{onClick:function(){return n(t.id)},className:"lyric-buttons",children:Object(u.jsx)("span",{className:"button-icons",children:Object(u.jsx)("ion-icon",{name:"trash-outline"})})})]})]})})};var f=function(e){var t=e.user,c=e.handleShowLyric,n=e.deleteLyric,a=Object(h.f)();return Object(u.jsxs)("div",{className:"lyrics-container",children:[t.lyrics?t.lyrics.map((function(e){return Object(u.jsx)(g,{lyric:e,user:t,handleShowLyric:c,deleteLyric:n},e.id)})):null,Object(u.jsx)("button",{className:"add-lyric-box",onClick:function(){a.push("/lyric-submission")},children:Object(u.jsx)("h1",{className:"add-lyric-box-title",children:"New Song"})})]})};var y=function(e){var t=e.lyricShow,c=e.handleShowAllLyrics;return Object(u.jsxs)("div",{className:"lyric-view",children:[Object(u.jsx)("button",{className:"back-button",onClick:c,children:Object(u.jsx)("ion-icon",{name:"arrow-back-circle-outline"})}),Object(u.jsx)("div",{className:"lyric-details-box-container",children:Object(u.jsxs)("div",{className:"lyric-details-box",children:[Object(u.jsxs)("div",{className:"title-artist-container",children:[Object(u.jsx)("h1",{className:"lyric-title",children:t.title}),Object(u.jsx)("h2",{className:"lyric-artist",children:t.artist_name})]}),Object(u.jsx)("p",{className:"lyric-content",children:t.content}),Object(u.jsxs)("div",{className:"copyright-container",children:[Object(u.jsxs)("h5",{className:"lyric-copyright",children:["\xa9 ",t.copyright_name]}),Object(u.jsx)("h5",{className:"lyric-copyright",children:t.copyright_year})]})]})})]})};var v=function(e){var t=e.user,c=e.handleShowLyric,n=e.handleShowAllLyrics,a=e.deleteLyric,s=e.lyricClicked,i=e.lyricShow,o=e.onLogout;return Object(u.jsx)("div",{className:"dashboard",children:s?Object(u.jsx)("div",{children:Object(u.jsx)(y,{lyricShow:i,handleShowAllLyrics:n})}):Object(u.jsxs)("div",{children:[Object(u.jsx)(p,{user:t,onLogout:o}),Object(u.jsx)(m,{}),Object(u.jsx)(f,{user:t,handleShowLyric:c,deleteLyric:a})]})})};var N=function(e){var t=e.user,c=e.onLogout;return Object(u.jsxs)("div",{children:[Object(u.jsx)(p,{user:t,onLogout:c}),Object(u.jsx)(m,{}),Object(u.jsxs)("div",{className:"prof-items-container",children:[Object(u.jsx)("img",{src:t.profile_img,alt:"profile picture",className:"profile-img"}),Object(u.jsxs)("div",{className:"prof-details-container",children:[Object(u.jsx)("h2",{className:"profile-name",children:t.username}),Object(u.jsx)("p",{className:"profile-bio",children:t.bio})]})]})]})};var S=function(e){var t=e.addNewLyric,c=Object(h.f)(),a=Object(n.useState)(!1),s=Object(l.a)(a,2),i=(s[0],s[1]),o=Object(n.useState)(""),r=Object(l.a)(o,2),j=r[0],b=r[1],d=Object(n.useState)(""),O=Object(l.a)(d,2),p=O[0],m=O[1],x=Object(n.useState)(""),g=Object(l.a)(x,2),f=g[0],y=g[1],v=Object(n.useState)(""),N=Object(l.a)(v,2),S=N[0],w=N[1],k=Object(n.useState)(null),L=Object(l.a)(k,2),C=L[0];return L[1],Object(u.jsxs)("div",{className:"new-lyric-page",children:[Object(u.jsx)("button",{className:"back-button",onClick:function(){c.push("/dashboard")},children:Object(u.jsx)("ion-icon",{name:"arrow-back-circle-outline"})}),Object(u.jsx)("div",{className:"lyric-form-container",children:Object(u.jsxs)("form",{className:"new-lyric-form",onSubmit:function(e){e.preventDefault(),e.target.reset(),t({title:j,artist_name:p,content:f,copyright_name:S,copyright_year:C}),i(!0),c.push("/dashboard")},children:[Object(u.jsx)("input",{className:"title-input",type:"textarea",placeholder:"Title",value:j,onChange:function(e){return b(e.target.value)}}),Object(u.jsx)("input",{className:"artist-input",type:"textarea",placeholder:"Artist",value:p,onChange:function(e){return m(e.target.value)}}),Object(u.jsx)("input",{className:"content-input",type:"textarea",placeholder:"Lyrics",value:f,onChange:function(e){return y(e.target.value)}}),Object(u.jsx)("input",{className:"copyright-input",type:"textarea",placeholder:"\xa9 Copyright Name",value:S,onChange:function(e){return w(e.target.value)}}),Object(u.jsx)("button",{className:"publish-button",type:"submit",children:"Publish"})]})})]})};var w=function(){return Object(u.jsx)("div",{children:"Lyric Editor"})};var k=function(){var e="https://lyricbook-backend.herokuapp.com/",t=Object(n.useState)(!1),c=Object(l.a)(t,2),a=(c[0],c[1]),s=Object(n.useState)({}),i=Object(l.a)(s,2),j=i[0],p=i[1],m=Object(n.useState)([]),g=Object(l.a)(m,2),f=g[0],y=g[1],k=Object(n.useState)([]),L=Object(l.a)(k,2),C=L[0],A=L[1],T=Object(n.useState)(!1),_=Object(l.a)(T,2),E=_[0],I=_[1],P=Object(n.useState)(0),J=Object(l.a)(P,2),B=J[0],z=J[1],D=Object(h.f)();function G(e){p(e),a(!0)}function U(){localStorage.clear(),p(null),a(!1),D.push("/login")}return Object(n.useEffect)((function(){var t=localStorage.getItem("jwt");fetch("".concat(e,"/profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){e.ok?e.json().then((function(e){a(!0),p(e.user)})):console.log("please log in")}))}),[B]),Object(n.useEffect)((function(){var t=localStorage.getItem("jwt");fetch("".concat(e,"/lyrics"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){return y(e)}))}),[]),Object(u.jsx)("div",{className:"app",children:Object(u.jsxs)(h.c,{children:[Object(u.jsx)(h.a,{exact:!0,path:"/",children:Object(u.jsx)(b,{})}),Object(u.jsx)(h.a,{exact:!0,path:"/login",children:Object(u.jsx)(d,{handleLogin:G})}),Object(u.jsx)(h.a,{exact:!0,path:"/signup",children:Object(u.jsx)(O,{handleLogin:G})}),Object(u.jsx)(h.a,{exact:!0,path:"/home",children:Object(u.jsx)(x,{onLogout:U,user:j})}),Object(u.jsx)(h.a,{exact:!0,path:"/dashboard",children:Object(u.jsx)(v,{user:j,onLogout:U,handleShowLyric:function(e){A(j.lyrics.find((function(t){return t.id===e}))),I(!0)},handleShowAllLyrics:function(){I(!1)},deleteLyric:function(t){var c=localStorage.getItem("jwt");fetch("".concat(e,"/lyrics/").concat(t),{method:"DELETE",headers:{Accepts:"application/json","Content-type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(){return y(f.filter((function(e){return e.id!==t})))})).then((function(){return z(B+1)}))},lyricClicked:E,lyricShow:C})}),Object(u.jsx)(h.a,{exact:!0,path:"/profile",children:Object(u.jsx)(N,{user:j,onLogout:U})}),Object(u.jsx)(h.a,{exact:!0,path:"/lyric-submission",children:Object(u.jsx)(S,{addNewLyric:function(t){var c=localStorage.getItem("jwt");fetch("".concat(e,"/lyrics"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(Object(r.a)(Object(r.a)({},t),{},{user_id:j.id}))}).then((function(e){return e.json()})).then((function(e){y([e].concat(Object(o.a)(f)))})).then((function(){return z(B+1)}))}})}),Object(u.jsx)(h.a,{exact:!0,path:"/lyric-editor",children:Object(u.jsx)(w,{})})]})})};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(j.a,{basename:"/lyricbook-frontend",children:Object(u.jsx)(k,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.cbef4e15.chunk.js.map